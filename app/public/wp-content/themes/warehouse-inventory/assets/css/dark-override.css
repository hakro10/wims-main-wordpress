/* Dark theme overrides for the Warehouse theme */

[data-theme="dark"] body {
  background: #0b1220;
  color: #e5e7eb;
}

[data-theme="dark"] .nav-tabs {
  background: linear-gradient(135deg,#0f172a,#111827);
  border-bottom: 1px solid #1f2937;
}

[data-theme="dark"] .nav-tab {
  color: #cbd5e1;
  border-color: transparent;
}
[data-theme="dark"] .nav-tab:hover {
  color: #e2e8f0;
  background: rgba(255,255,255,.04);
}
[data-theme="dark"] .nav-tab.active {
  color: #60a5fa;
  border-bottom-color: #60a5fa;
  background: rgba(96,165,250,.08);
}

[data-theme="dark"] .card,
[data-theme="dark"] .modal-content,
[data-theme="dark"] .wh-card {
  background: #0f172a;
  border-color: #1f2937;
  color: #e5e7eb;
}

/* Improve modal text contrast in dark mode */
[data-theme="dark"] .modal-title { color: #e5e7eb; }
[data-theme="dark"] .form-label { color: #e5e7eb; }
[data-theme="dark"] .modal-close { color: #cbd5e1; }
[data-theme="dark"] .modal-close:hover { color: #e5e7eb; }

/* Placeholders in dark mode: keep readable but subdued */
[data-theme="dark"] .modal input::placeholder,
[data-theme="dark"] .modal textarea::placeholder,
[data-theme="dark"] .form-input::placeholder,
[data-theme="dark"] textarea.form-input::placeholder {
  color: #94a3b8;
}

/* Header/nav gradient in dark */
[data-theme="dark"] .warehouse-header {
  background: linear-gradient(135deg, #1f2937 0%, #0b1220 100%);
  border-bottom: 1px solid #1f2937;
}
[data-theme="dark"] .header-content .logo,
[data-theme="dark"] .header-content .user-greeting { color:#e5e7eb; }
[data-theme="dark"] .btn-primary { background:#3b82f6; border-color:#3b82f6; color:#fff; }
[data-theme="dark"] .btn-primary:hover { background:#2563eb; border-color:#2563eb; }

[data-theme="dark"] .card-title { color: #e5e7eb; }
[data-theme="dark"] .card-subtitle { color: #94a3b8; }

[data-theme="dark"] .btn-secondary {
  background: #0b1220;
  color: #e5e7eb;
  border-color: #334155;
}
[data-theme="dark"] .btn-secondary:hover {
  background: #111827;
  border-color: #475569;
}

/* Modal two-column layout and hints */
[data-theme="dark"] .form-hint { color:#94a3b8; }
[data-theme="dark"] .lot-calculations { background:#0b1220; border-color:#1f2937; }
[data-theme="dark"] .sale-summary { background:#0b1220; border-color:#1f2937; }
[data-theme="dark"] select option[data-level="1"] { color:#94a3b8; }
[data-theme="dark"] select option[data-level="0"] { color:#e5e7eb; }

[data-theme="dark"] input[type="text"],
[data-theme="dark"] input[type="number"],
[data-theme="dark"] input[type="email"],
[data-theme="dark"] input[type="password"],
[data-theme="dark"] textarea,
[data-theme="dark"] select {
  background: #0b1220 !important;
  color: #e5e7eb !important;
  border-color: #1f2937 !important;
}
[data-theme="dark"] input:focus,
[data-theme="dark"] textarea:focus,
[data-theme="dark"] select:focus {
  outline: none !important;
  border-color: #60a5fa !important;
  box-shadow: 0 0 0 3px rgba(96,165,250,.2) !important;
}

[data-theme="dark"] .table thead th,
[data-theme="dark"] .warehouse-table thead th {
  background: #0b1220;
  color: #cbd5e1;
  border-bottom-color: #1f2937;
}
[data-theme="dark"] .table tbody tr,
[data-theme="dark"] .warehouse-table tbody tr {
  border-bottom-color: #1f2937;
}

[data-theme="dark"] .notification {
  background: #111827;
  color: #e5e7eb;
  border-color: #1f2937;
}

/* Inventory cards */
[data-theme="dark"] .inventory-item { background:#0f172a; border-color:#1f2937; }
[data-theme="dark"] .item-name { color:#e5e7eb; }
[data-theme="dark"] .item-id { color:#94a3b8; }
[data-theme="dark"] .item-pricing { border-top-color:#1f2937; }

/* Price chips - subtle tinted backgrounds */
[data-theme="dark"] .price-label { border-color:#334155; }
[data-theme="dark"] .price-label.cost-price { background: rgba(245,158,11,.14); color:#fbbf24; border-color: rgba(245,158,11,.35); }
[data-theme="dark"] .price-label.sell-price { background: rgba(56,189,248,.12); color:#7dd3fc; border-color: rgba(56,189,248,.35); }
[data-theme="dark"] .price-label.lot-price { background: rgba(34,197,94,.12); color:#86efac; border-color: rgba(34,197,94,.35); }

/* Status badges */
[data-theme="dark"] .tested-badge.tested { background: rgba(34,197,94,.12); color:#86efac; border-color: rgba(34,197,94,.35); }
[data-theme="dark"] .tested-badge.not-tested { background: rgba(245,158,11,.14); color:#fbbf24; border-color: rgba(245,158,11,.35); }

/* Categories tree and Locations list */
[data-theme="dark"] .categories-container { background:#0f172a; border-color:#1f2937; }
[data-theme="dark"] .locations-container { background:#0f172a; border-color:#1f2937; }
[data-theme="dark"] .category-row { border-bottom-color:#1f2937; }
[data-theme="dark"] .category-row:hover { background: rgba(255,255,255,.03); }
[data-theme="dark"] .category-name { color:#e5e7eb; }
[data-theme="dark"] .category-details, [data-theme="dark"] .category-stats { color:#94a3b8; }
[data-theme="dark"] .category-name-clickable{ color:#e5e7eb; }
[data-theme="dark"] .category-count{ color:#34d399 !important; }
[data-theme="dark"] .location-row { border-bottom-color:#1f2937; }
[data-theme="dark"] .location-row:hover { background: rgba(255,255,255,.03); }
[data-theme="dark"] .location-name { color:#e5e7eb; }
[data-theme="dark"] .location-code { background:#111827; color:#cbd5e1; border:1px solid #1f2937; }
[data-theme="dark"] .location-type { background:rgba(59,130,246,.14); color:#93c5fd; border:1px solid rgba(59,130,246,.35); }
[data-theme="dark"] .category-indent{ border-right:1px dashed #1f2937; }
[data-theme="dark"] .location-indent{ border-right:1px dashed #1f2937; }
[data-theme="dark"] .category-name-clickable{ color:#93c5fd !important; }
[data-theme="dark"] .category-count{ color:#34d399 !important; }

/* Icon-only action buttons */
[data-theme="dark"] .btn-icon{ background:transparent; border-color:#334155; color:#94a3b8; }
[data-theme="dark"] .btn-icon:hover{ background:rgba(255,255,255,.06); color:#e5e7eb; border-color:#475569; }

/* Generic buttons to reduce stark white */
[data-theme="dark"] .btn{ border-color:#334155; }
[data-theme="dark"] .btn-secondary{ background:#0b1220; color:#e5e7eb; }
[data-theme="dark"] .btn-secondary:hover{ background:#111827; }

/* Chat bubbles and pale surfaces */
[data-theme="dark"] .chat-message.other .chat-message-content{ background:#0b1220; color:#e5e7eb; border:1px solid #1f2937; }
[data-theme="dark"] .chat-message.own .chat-message-content{ background:#0f172a; color:#e5e7eb; border:1px solid #1f2937; }

/* Search & filter panel */
[data-theme="dark"] .search-filters{ background:#0f172a; border:1px solid #1f2937; box-shadow:none; }
[data-theme="dark"] .search-filters .form-input, 
[data-theme="dark"] .search-filters .form-select, 
[data-theme="dark"] .search-filters input, 
[data-theme="dark"] .search-filters select{
  background:#0b1220 !important; color:#e5e7eb !important; border-color:#1f2937 !important;
}
[data-theme="dark"] .search-icon{ color:#94a3b8; }

/* Modal surface for dark */
[data-theme="dark"] .modal{ background:#0f172a; border:1px solid #1f2937; }
[data-theme="dark"] .logo-dropzone{ border-color:#1f2937 !important; background:#0b1220 !important; }
[data-theme="dark"] .logo-dropzone:hover{ border-color:#334155 !important; }
[data-theme="dark"] .modal-title{ color:#e5e7eb; }
[data-theme="dark"] .modal-close{ color:#94a3b8; }
[data-theme="dark"] .form-label{ color:#cbd5e1; }
[data-theme="dark"] .form-input, [data-theme="dark"] .form-textarea, [data-theme="dark"] .form-select,
[data-theme="dark"] .modal input, [data-theme="dark"] .modal textarea, [data-theme="dark"] .modal select{ background:#0b1220 !important; color:#e5e7eb !important; border-color:#1f2937 !important; }
[data-theme="dark"] .form-input:focus, [data-theme="dark"] .form-textarea:focus, [data-theme="dark"] .form-select:focus,
[data-theme="dark"] .modal input:focus, [data-theme="dark"] .modal textarea:focus, [data-theme="dark"] .modal select:focus{ border-color:#60a5fa !important; box-shadow:0 0 0 3px rgba(96,165,250,.2) !important; }
[data-theme="dark"] .modal label{ color:#cbd5e1; }

/* Sales stat cards */
[data-theme="dark"] .stat-card, [data-theme="dark"] .card{ background:#0f172a; border:1px solid #1f2937; }
[data-theme="dark"] .stat-number{ color:#e5e7eb; }
[data-theme="dark"] .stat-label{ color:#94a3b8; }

/* Sales search form */
[data-theme="dark"] .search-form{ background:#0f172a; border:1px solid #1f2937; box-shadow:none; }
[data-theme="dark"] .search-form .search-input, 
[data-theme="dark"] .search-form .search-filter{ background:#0b1220; color:#e5e7eb; border-color:#1f2937; }
[data-theme="dark"] .search-form .search-input::placeholder{ color:#94a3b8; }

/* Profit controls */
[data-theme="dark"] .period-selector{ background:#0b1220; }
[data-theme="dark"] .period-btn{ color:#94a3b8; }
[data-theme="dark"] .period-btn.active{ background:#0f172a; color:#a78bfa; box-shadow:none; }
[data-theme="dark"] #profit-date{ background:#0b1220; color:#e5e7eb; border-color:#1f2937; }

/* Sales table */
[data-theme="dark"] .sales-table-container{ background:#0f172a; border:1px solid #1f2937; box-shadow:none; }
[data-theme="dark"] .sales-table th{ background:#0b1220; color:#cbd5e1; border-bottom:1px solid #1f2937; }
[data-theme="dark"] .sales-table td{ border-bottom:1px solid #1f2937; color:#e5e7eb; }
[data-theme="dark"] .sales-table tr:hover{ background:rgba(255,255,255,.03); }
[data-theme="dark"] .payment-method{ background:#1f2937; color:#e5e7eb; }

/* Tasks page (Kanban + Chat) */
[data-theme="dark"] .tasks-main-container{ background:#0f172a !important; }
[data-theme="dark"] .tasks-section{ background:transparent !important; }
[data-theme="dark"] .page-header h1{ color:#e5e7eb !important; }
[data-theme="dark"] .kanban-column{ background:#0b1220 !important; border:1px solid #1f2937 !important; }
[data-theme="dark"] .column-title{ color:#e5e7eb !important; }
[data-theme="dark"] .task-count{ background:#1f2937 !important; color:#cbd5e1 !important; }
[data-theme="dark"] .column-content{ border-color:#1f2937 !important; }
[data-theme="dark"] .column-content.drag-over{ background:rgba(59,130,246,.08) !important; border-color:#3b82f6 !important; }
[data-theme="dark"] .task-card{ background:#0f172a !important; border-color:#1f2937 !important; color:#e5e7eb !important; }
[data-theme="dark"] .task-header h4{ color:#e5e7eb !important; }
[data-theme="dark"] .task-description{ color:#94a3b8 !important; }
[data-theme="dark"] .task-meta{ color:#94a3b8 !important; }
[data-theme="dark"] .task-footer{ color:#94a3b8 !important; border-top:1px solid #1f2937 !important; }
[data-theme="dark"] .empty-column{ color:#94a3b8 !important; border-color:#1f2937 !important; }

/* Sidebar (history/chat) */
[data-theme="dark"] .sidebar-section{ background:#0f172a !important; border-left:1px solid #1f2937 !important; min-width:0 !important; }
[data-theme="dark"] .sidebar-panel{ background:transparent !important; }
[data-theme="dark"] .sidebar-content{ color:#e5e7eb !important; }
[data-theme="dark"] .history-item{ border-bottom:1px solid #1f2937 !important; }
[data-theme="dark"] .history-item:hover{ background:rgba(255,255,255,.03) !important; }
[data-theme="dark"] .history-date{ color:#34d399 !important; }
[data-theme="dark"] .history-task h4{ color:#e5e7eb !important; }
[data-theme="dark"] .history-task p{ color:#94a3b8 !important; }

/* Chat panel */
[data-theme="dark"] .chat-messages{ background:#0f172a !important; }
[data-theme="dark"] .chat-message{ background:transparent !important; }
[data-theme="dark"] .chat-message-header{ color:#94a3b8 !important; }
[data-theme="dark"] .chat-message-author{ color:#cbd5e1 !important; }
[data-theme="dark"] .chat-message-time{ color:#94a3b8 !important; }
[data-theme="dark"] .chat-message.other{ background:transparent !important; }
[data-theme="dark"] .chat-message.own{ background:transparent !important; }
[data-theme="dark"] .chat-message.other .chat-message-content{ background:#0b1220; color:#e5e7eb; border:1px solid #1f2937; }
[data-theme="dark"] .chat-message.own .chat-message-content{ background:#0f172a; color:#e5e7eb; border:1px solid #1f2937; }
[data-theme="dark"] .chat-input-container{ background:#0b1220 !important; border-top:1px solid #1f2937 !important; }
[data-theme="dark"] .chat-input{ background:#0b1220 !important; color:#e5e7eb !important; border:1px solid #1f2937 !important; }
[data-theme="dark"] .chat-input:focus{ border-color:#60a5fa !important; box-shadow:0 0 0 3px rgba(96,165,250,.2) !important; }

/* Kanban columns: transparent panels, colored headers only */
[data-theme="dark"] .kanban-column{ background:transparent !important; border:none !important; box-shadow:none !important; }
[data-theme="dark"] .kanban-column .column-title{ background:rgba(148,163,184,.08); color:#e5e7eb; }
[data-theme="dark"] .column-header{ position:sticky; top:0; z-index:2; }
[data-theme="dark"] .kanban-column[data-status="pending"] .column-title{ background:rgba(59,130,246,.16); color:#bfdbfe; }
[data-theme="dark"] .kanban-column[data-status="in_progress"] .column-title{ background:rgba(99,102,241,.16); color:#c7d2fe; }
[data-theme="dark"] .kanban-column[data-status="completed"] .column-title{ background:rgba(34,197,94,.14); color:#86efac; }
[data-theme="dark"] .empty-column{ border-color:transparent !important; background:transparent !important; }

/* Add Task modal (template-parts/tasks.php) */
[data-theme="dark"] #add-task-modal .task-modal{ background:#0f172a !important; border:1px solid #334155 !important; color:#e5e7eb !important; box-shadow:0 20px 60px rgba(0,0,0,.45) !important; }
[data-theme="dark"] #add-task-modal .task-modal-header{ background:#0b1220 !important; border-bottom:1px solid #334155 !important; color:#f1f5f9 !important; }
[data-theme="dark"] #add-task-modal .task-modal-body{ color:#e5e7eb !important; }
[data-theme="dark"] #add-task-modal .task-modal-footer{ background:#0b1220 !important; border-top:1px solid #1f2937 !important; }
[data-theme="dark"] #add-task-modal label{ color:#e2e8f0 !important; }
[data-theme="dark"] #add-task-modal input,
[data-theme="dark"] #add-task-modal select,
[data-theme="dark"] #add-task-modal textarea{ background:#0b1220 !important; color:#e5e7eb !important; border:1px solid #1f2937 !important; }
[data-theme="dark"] #add-task-modal input::placeholder,
[data-theme="dark"] #add-task-modal textarea::placeholder{ color:#b6c2d1 !important; }
[data-theme="dark"] #add-task-modal input:focus,
[data-theme="dark"] #add-task-modal select:focus,
[data-theme="dark"] #add-task-modal textarea:focus{ border-color:#60a5fa !important; box-shadow:0 0 0 2px rgba(96,165,250,.28) !important; outline:none !important; }

/* Team page - dark adjustments */
[data-theme="dark"] .team-management .search-filters{ background:#0f172a !important; border:1px solid #1f2937 !important; }
[data-theme="dark"] .team-management .search-filters h2,
[data-theme="dark"] .team-management .search-filters h3{ color:#e5e7eb !important; }
[data-theme="dark"] .team-management .search-input input{ background:#0b1220 !important; color:#e5e7eb !important; border:1px solid #1f2937 !important; }
[data-theme="dark"] .team-management .search-input input::placeholder{ color:#94a3b8 !important; }

[data-theme="dark"] .team-management .table-container{ background:#0f172a !important; border:1px solid #1f2937 !important; box-shadow:none !important; }
[data-theme="dark"] .team-management .table-container .search-filters[style*='border-bottom']{ border-bottom:1px solid #1f2937 !important; }

[data-theme="dark"] #team-table thead th{ background:#0b1220 !important; color:#cbd5e1 !important; border-bottom:1px solid #1f2937 !important; }
[data-theme="dark"] #team-table tbody tr{ border-bottom:1px solid #1f2937 !important; background:#0f172a !important; }
[data-theme="dark"] #team-table tbody tr:nth-child(even){ background:#0b1220 !important; }
[data-theme="dark"] #team-table tbody tr:hover{ background:rgba(255,255,255,.03) !important; }
[data-theme="dark"] #team-table td{ color:#e5e7eb !important; }
[data-theme="dark"] #team-table .member-meta{ color:#94a3b8 !important; }

[data-theme="dark"] .role-badge{ background:#1f2937 !important; color:#e5e7eb !important; border:1px solid #334155 !important; }
[data-theme="dark"] .status-badge.ACTIVE{ background:rgba(34,197,94,.14) !important; color:#86efac !important; border:1px solid rgba(34,197,94,.35) !important; }
[data-theme="dark"] .status-badge.INACTIVE{ background:rgba(244,63,94,.12) !important; color:#fca5a5 !important; border:1px solid rgba(244,63,94,.35) !important; }

[data-theme="dark"] .action-buttons .btn-icon{ background:transparent !important; color:#94a3b8 !important; border:1px solid #334155 !important; }
[data-theme="dark"] .action-buttons .btn-icon:hover{ background:rgba(255,255,255,.06) !important; color:#e5e7eb !important; border-color:#475569 !important; }

/* Team modals */
[data-theme="dark"] #add-member-modal .modal,
[data-theme="dark"] #edit-member-modal .modal,
[data-theme="dark"] #password-modal .modal{ background:#0f172a !important; color:#e5e7eb !important; border:1px solid #334155 !important; }
[data-theme="dark"] #add-member-modal [style*='border-bottom'],
[data-theme="dark"] #edit-member-modal [style*='border-bottom'],
[data-theme="dark"] #password-modal [style*='border-bottom']{ border-bottom:1px solid #334155 !important; }
[data-theme="dark"] #add-member-modal [style*='border-top'],
[data-theme="dark"] #edit-member-modal [style*='border-top'],
[data-theme="dark"] #password-modal [style*='border-top']{ border-top:1px solid #334155 !important; }
[data-theme="dark"] #add-member-modal input,
[data-theme="dark"] #add-member-modal select,
[data-theme="dark"] #add-member-modal textarea,
[data-theme="dark"] #edit-member-modal input,
[data-theme="dark"] #edit-member-modal select,
[data-theme="dark"] #edit-member-modal textarea{ background:#0b1220 !important; color:#e5e7eb !important; border:1px solid #1f2937 !important; }
[data-theme="dark"] #add-member-modal label,
[data-theme="dark"] #edit-member-modal label{ color:#e2e8f0 !important; }
[data-theme="dark"] #password-modal p[style*='color: #374151'],
[data-theme="dark"] #password-modal div[style*='background: #f8fafc']{ color:#e5e7eb !important; background:#0b1220 !important; border-color:#1f2937 !important; }
[data-theme="dark"] #password-modal div[style*='background: #e2e8f0']{ background:#0b1220 !important; border-color:#334155 !important; }

/* QR Codes page */
[data-theme="dark"] .qr-codes-content .scanner-section,
[data-theme="dark"] .qr-codes-content .generation-section{ background:#0f172a !important; border-color:#1f2937 !important; }
[data-theme="dark"] .qr-codes-content .section-header h2{ color:#e5e7eb !important; }
[data-theme="dark"] .qr-grid .qr-card{ background:#0b1220 !important; border-color:#1f2937 !important; }
[data-theme="dark"] .qr-card-header h4{ color:#e5e7eb !important; }
[data-theme="dark"] .qr-card .item-id,
[data-theme="dark"] .qr-card .location-type,
[data-theme="dark"] .qr-card .item-details,
[data-theme="dark"] .qr-card .location-details{ color:#94a3b8 !important; }
[data-theme="dark"] .qr-code-image{ border-color:#1f2937 !important; }
[data-theme="dark"] .qr-placeholder{ color:#94a3b8 !important; }
[data-theme="dark"] .print-modal-content{ background:#0f172a !important; color:#e5e7eb !important; border:1px solid #334155 !important; }
[data-theme="dark"] .print-modal-header{ border-bottom:1px solid #334155 !important; }
[data-theme="dark"] .print-modal-footer{ border-top:1px solid #334155 !important; }

/* Match locations toggle hover */
[data-theme="dark"] .category-toggle:hover{ background:#111827 !important; color:#e5e7eb !important; }
[data-theme="dark"] .settings-menu{
  background:#0f172a !important;
  border-color:#1f2937 !important;
  box-shadow:0 12px 24px rgba(0,0,0,0.35) !important;
}
[data-theme="dark"] .settings-menu .menu-row{
  background:transparent;
  border-color:#1f2937 !important;
  color:#e5e7eb !important;
}
[data-theme="dark"] .settings-menu strong{ color:#cbd5e1; }
[data-theme="dark"] .settings-menu i{ color:#94a3b8; }
[data-theme="dark"] .settings-menu .lang-choice{
  background:#0b1220;
  color:#e5e7eb;
  border:1px solid #334155;
  padding:4px 8px;
  border-radius:6px;
}
[data-theme="dark"] .settings-menu .menu-row:hover{
  background:#0b1220;
  border-color:#334155;
}
