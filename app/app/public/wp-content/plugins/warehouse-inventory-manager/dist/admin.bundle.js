/*! For license information please see admin.bundle.js.LICENSE.txt */
(()=>{"use strict";function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function e(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?t(Object(o),!0).forEach(function(t){n(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function n(t,e,n){return(e=h(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,s=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function a(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var a=r&&r.prototype instanceof s?r:s,l=Object.create(a.prototype);return c(l,"_invoke",function(n,r,o){var i,a,c,s=0,l=o||[],d=!1,f={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return i=e,a=0,c=t,f.n=n,u}};function h(n,r){for(a=n,c=r,e=0;!d&&s&&!o&&e<l.length;e++){var o,i=l[e],h=f.p,p=i[2];n>3?(o=p===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=h&&((o=n<2&&h<i[1])?(a=0,f.v=r,f.n=i[1]):h<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,f.n=p,a=0))}if(o||n>1)return u;throw d=!0,r}return function(o,l,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===l&&h(l,p),a=l,c=p;(e=a<2?t:c)||!d;){i||(a?a<3?(a>1&&(f.n=-1),h(a,c)):f.n=c:f.v=c);try{if(s=2,i){if(a||(o="next"),e=i[o]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,a<2&&(a=0)}else 1===a&&(e=i.return)&&e.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((e=(d=f.n<0)?c:n.call(r,f))!==u)break}catch(e){i=t,a=1,c=e}finally{s=1}}return{value:e,done:d}}}(n,o,i),!0),l}var u={};function s(){}function l(){}function d(){}e=Object.getPrototypeOf;var f=[][r]?e(e([][r]())):(c(e={},r,function(){return this}),e),h=d.prototype=s.prototype=Object.create(f);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,o,"GeneratorFunction")),t.prototype=Object.create(h),t}return l.prototype=d,c(h,"constructor",d),c(d,"constructor",l),l.displayName="GeneratorFunction",c(d,o,"GeneratorFunction"),c(h),c(h,o,"Generator"),c(h,r,function(){return this}),c(h,"toString",function(){return"[object Generator]"}),(a=function(){return{w:i,m:p}})()}function c(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}c=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var i=function(e,n){c(t,e,function(t){return this._invoke(e,n,t)})};i("next",0),i("throw",1),i("return",2)}},c(t,e,n,r)}function u(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function s(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,c,"next",t)}function c(t){u(i,r,o,a,c,"throw",t)}a(void 0)})}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h(r.key),r)}}function f(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function h(t){var e=function(t){if("object"!=r(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}var p=function(){return f(function t(){l(this,t),this.api=new m,this.items=[],this.currentPage=1,this.perPage=20,this.filters={}},[{key:"init",value:(c=s(a().m(function t(){return a().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.loadItems();case 1:this.bindEvents();case 2:return t.a(2)}},t,this)})),function(){return c.apply(this,arguments)})},{key:"loadItems",value:(i=s(a().m(function t(){var e;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,this.api.getItems(this.currentPage,this.perPage,this.filters);case 1:e=t.v,this.items=e.items,this.totalPages=e.total_pages,this.renderItems(),this.renderPagination(),t.n=3;break;case 2:t.p=2,t.v,this.showError("Failed to load inventory items");case 3:return t.a(2)}},t,this,[[0,2]])})),function(){return i.apply(this,arguments)})},{key:"renderItems",value:function(){var t=document.querySelector("#wh-inventory-table tbody");t&&(t.innerHTML=this.items.map(function(t){return'\n      <tr data-item-id="'.concat(t.id,'">\n        <td>').concat(t.sku,"</td>\n        <td>").concat(t.name,"</td>\n        <td>").concat(t.quantity,"</td>\n        <td>").concat(t.location_name,"</td>\n        <td>").concat(t.category_name,'</td>\n        <td>\n          <button class="wh-edit-btn" data-id="').concat(t.id,'">Edit</button>\n          <button class="wh-delete-btn" data-id="').concat(t.id,'">Delete</button>\n        </td>\n      </tr>\n    ')}).join(""))}},{key:"renderPagination",value:function(){var t=document.querySelector(".wh-pagination");if(t){for(var e="",n=1;n<=this.totalPages;n++)e+='<button class="wh-page-btn '.concat(n===this.currentPage?"active":"",'" data-page="').concat(n,'">').concat(n,"</button>");t.innerHTML=e}}},{key:"bindEvents",value:function(){var t,e,n=this;document.addEventListener("click",function(t){t.target.classList.contains("wh-edit-btn")?n.editItem(t.target.dataset.id):t.target.classList.contains("wh-delete-btn")?n.deleteItem(t.target.dataset.id):t.target.classList.contains("wh-page-btn")&&n.goToPage(parseInt(t.target.dataset.page))}),null===(t=document.getElementById("wh-add-item-btn"))||void 0===t||t.addEventListener("click",function(){n.showAddModal()}),null===(e=document.getElementById("wh-search-form"))||void 0===e||e.addEventListener("submit",function(t){t.preventDefault(),n.handleSearch()})}},{key:"editItem",value:(r=s(a().m(function t(e){var n;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,this.api.getItem(e);case 1:n=t.v,this.showEditModal(n),t.n=3;break;case 2:t.p=2,t.v,this.showError("Failed to load item");case 3:return t.a(2)}},t,this,[[0,2]])})),function(t){return r.apply(this,arguments)})},{key:"deleteItem",value:(n=s(a().m(function t(e){return a().w(function(t){for(;;)switch(t.p=t.n){case 0:if(confirm("Are you sure you want to delete this item?")){t.n=1;break}return t.a(2);case 1:return t.p=1,t.n=2,this.api.deleteItem(e);case 2:return t.n=3,this.loadItems();case 3:this.showSuccess("Item deleted successfully"),t.n=5;break;case 4:t.p=4,t.v,this.showError("Failed to delete item");case 5:return t.a(2)}},t,this,[[1,4]])})),function(t){return n.apply(this,arguments)})},{key:"showAddModal",value:function(){var t=document.createElement("div");t.className="wh-modal",t.innerHTML='\n      <div class="wh-modal-content">\n        <h2>Add New Item</h2>\n        <form id="wh-item-form">\n          <input type="text" name="sku" placeholder="SKU" required>\n          <input type="text" name="name" placeholder="Item Name" required>\n          <input type="number" name="quantity" placeholder="Quantity" required>\n          <select name="location_id" required>\n            <option value="">Select Location</option>\n          </select>\n          <select name="category_id" required>\n            <option value="">Select Category</option>\n          </select>\n          <button type="submit">Add Item</button>\n          <button type="button" onclick="this.closest(\'.wh-modal\').remove()">Cancel</button>\n        </form>\n      </div>\n    ',document.body.appendChild(t),this.populateSelects(t),this.bindFormSubmit(t)}},{key:"showEditModal",value:function(t){var e=document.createElement("div");e.className="wh-modal",e.innerHTML='\n      <div class="wh-modal-content">\n        <h2>Edit Item</h2>\n        <form id="wh-item-form" data-item-id="'.concat(t.id,'">\n          <input type="text" name="sku" value="').concat(t.sku,'" required>\n          <input type="text" name="name" value="').concat(t.name,'" required>\n          <input type="number" name="quantity" value="').concat(t.quantity,'" required>\n          <select name="location_id" required>\n            <option value="">Select Location</option>\n          </select>\n          <select name="category_id" required>\n            <option value="">Select Category</option>\n          </select>\n          <button type="submit">Update Item</button>\n          <button type="button" onclick="this.closest(\'.wh-modal\').remove()">Cancel</button>\n        </form>\n      </div>\n    '),document.body.appendChild(e),this.populateSelects(e,t),this.bindFormSubmit(e)}},{key:"populateSelects",value:(e=s(a().m(function t(e){var n,r,i,c,u,s,l,d,f=arguments;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:null,r=e.querySelector('select[name="location_id"]'),i=e.querySelector('select[name="category_id"]'),t.p=1,t.n=2,Promise.all([this.api.getLocations(),this.api.getCategories()]);case 2:c=t.v,u=o(c,2),s=u[0],l=u[1],s.forEach(function(t){var e=document.createElement("option");e.value=t.id,e.textContent=t.name,n&&n.location_id===t.id&&(e.selected=!0),r.appendChild(e)}),l.forEach(function(t){var e=document.createElement("option");e.value=t.id,e.textContent=t.name,n&&n.category_id===t.id&&(e.selected=!0),i.appendChild(e)}),t.n=4;break;case 3:t.p=3,d=t.v,console.error("Failed to load selects:",d);case 4:return t.a(2)}},t,this,[[1,3]])})),function(t){return e.apply(this,arguments)})},{key:"bindFormSubmit",value:function(t){var e=this,n=t.querySelector("#wh-item-form");n.addEventListener("submit",function(){var r=s(a().m(function r(o){var i,c,u;return a().w(function(r){for(;;)switch(r.p=r.n){case 0:if(o.preventDefault(),i=new FormData(n),c=Object.fromEntries(i),u=n.dataset.itemId,r.p=1,!u){r.n=3;break}return r.n=2,e.api.updateItem(u,c);case 2:e.showSuccess("Item updated successfully"),r.n=5;break;case 3:return r.n=4,e.api.createItem(c);case 4:e.showSuccess("Item created successfully");case 5:return t.remove(),r.n=6,e.loadItems();case 6:r.n=8;break;case 7:r.p=7,r.v,e.showError("Failed to save item");case 8:return r.a(2)}},r,null,[[1,7]])}));return function(t){return r.apply(this,arguments)}}())}},{key:"goToPage",value:(t=s(a().m(function t(e){return a().w(function(t){for(;;)switch(t.n){case 0:return this.currentPage=e,t.n=1,this.loadItems();case 1:return t.a(2)}},t,this)})),function(e){return t.apply(this,arguments)})},{key:"handleSearch",value:function(){var t=new FormData(document.getElementById("wh-search-form"));this.filters=Object.fromEntries(t),this.currentPage=1,this.loadItems()}},{key:"showError",value:function(t){this.showNotification(t,"error")}},{key:"showSuccess",value:function(t){this.showNotification(t,"success")}},{key:"showNotification",value:function(t,e){var n=document.createElement("div");n.className="wh-notification wh-".concat(e),n.textContent=t,document.body.appendChild(n),setTimeout(function(){return n.remove()},3e3)}}]);var t,e,n,r,i,c}(),m=function(){return f(function t(){var e,n;l(this,t),this.baseURL=(null===(e=whInventory)||void 0===e?void 0:e.ajax_url)||"/wp-admin/admin-ajax.php",this.nonce=(null===(n=whInventory)||void 0===n?void 0:n.nonce)||""},[{key:"getItems",value:(u=s(a().m(function t(){var n,r,o,i,c,u=arguments;return a().w(function(t){for(;;)switch(t.n){case 0:return n=u.length>0&&void 0!==u[0]?u[0]:1,r=u.length>1&&void 0!==u[1]?u[1]:20,o=u.length>2&&void 0!==u[2]?u[2]:{},i=new URLSearchParams(e({action:"get_admin_inventory",nonce:this.nonce,page:n,per_page:r},o)),t.n=1,fetch(this.baseURL,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:i});case 1:return c=t.v,t.a(2,c.json())}},t,this)})),function(){return u.apply(this,arguments)})},{key:"getItem",value:(c=s(a().m(function t(e){var n,r;return a().w(function(t){for(;;)switch(t.n){case 0:return n=new URLSearchParams({action:"get_inventory_item",nonce:this.nonce,id:e}),t.n=1,fetch(this.baseURL,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n});case 1:return r=t.v,t.a(2,r.json())}},t,this)})),function(t){return c.apply(this,arguments)})},{key:"createItem",value:(i=s(a().m(function t(n){var r,o;return a().w(function(t){for(;;)switch(t.n){case 0:return r=new URLSearchParams(e({action:"create_inventory_item",nonce:this.nonce},n)),t.n=1,fetch(this.baseURL,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r});case 1:return o=t.v,t.a(2,o.json())}},t,this)})),function(t){return i.apply(this,arguments)})},{key:"updateItem",value:(o=s(a().m(function t(n,r){var o,i;return a().w(function(t){for(;;)switch(t.n){case 0:return o=new URLSearchParams(e({action:"update_inventory_item",nonce:this.nonce,id:n},r)),t.n=1,fetch(this.baseURL,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:o});case 1:return i=t.v,t.a(2,i.json())}},t,this)})),function(t,e){return o.apply(this,arguments)})},{key:"deleteItem",value:(r=s(a().m(function t(e){var n,r;return a().w(function(t){for(;;)switch(t.n){case 0:return n=new URLSearchParams({action:"delete_inventory_item",nonce:this.nonce,id:e}),t.n=1,fetch(this.baseURL,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n});case 1:return r=t.v,t.a(2,r.json())}},t,this)})),function(t){return r.apply(this,arguments)})},{key:"getLocations",value:(n=s(a().m(function t(){var e,n;return a().w(function(t){for(;;)switch(t.n){case 0:return e=new URLSearchParams({action:"get_locations",nonce:this.nonce}),t.n=1,fetch(this.baseURL,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e});case 1:return n=t.v,t.a(2,n.json())}},t,this)})),function(){return n.apply(this,arguments)})},{key:"getCategories",value:(t=s(a().m(function t(){var e,n;return a().w(function(t){for(;;)switch(t.n){case 0:return e=new URLSearchParams({action:"get_categories",nonce:this.nonce}),t.n=1,fetch(this.baseURL,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e});case 1:return n=t.v,t.a(2,n.json())}},t,this)})),function(){return t.apply(this,arguments)})}]);var t,n,r,o,i,c,u}();const y=p;function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function b(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return w(s,"_invoke",function(n,r,o){var i,c,u,s=0,l=o||[],d=!1,f={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return i=e,c=0,u=t,f.n=n,a}};function h(n,r){for(c=n,u=r,e=0;!d&&s&&!o&&e<l.length;e++){var o,i=l[e],h=f.p,p=i[2];n>3?(o=p===r)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=h&&((o=n<2&&h<i[1])?(c=0,f.v=r,f.n=i[1]):h<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,f.n=p,c=0))}if(o||n>1)return a;throw d=!0,r}return function(o,l,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===l&&h(l,p),c=l,u=p;(e=c<2?t:u)||!d;){i||(c?c<3?(c>1&&(f.n=-1),h(c,u)):f.n=u:f.v=u);try{if(s=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(d=f.n<0)?u:n.call(r,f))!==a)break}catch(e){i=t,c=1,u=e}finally{s=1}}return{value:e,done:d}}}(n,o,i),!0),s}var a={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(w(e={},r,function(){return this}),e),d=s.prototype=c.prototype=Object.create(l);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,w(t,o,"GeneratorFunction")),t.prototype=Object.create(d),t}return u.prototype=s,w(d,"constructor",s),w(s,"constructor",u),u.displayName="GeneratorFunction",w(s,o,"GeneratorFunction"),w(d),w(d,o,"Generator"),w(d,r,function(){return this}),w(d,"toString",function(){return"[object Generator]"}),(b=function(){return{w:i,m:f}})()}function w(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}w=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var i=function(e,n){w(t,e,function(t){return this._invoke(e,n,t)})};i("next",0),i("throw",1),i("return",2)}},w(t,e,n,r)}function g(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function k(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){g(i,r,o,a,c,"next",t)}function c(t){g(i,r,o,a,c,"throw",t)}a(void 0)})}}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E(r.key),r)}}function E(t){var e=function(t){if("object"!=v(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==v(e)?e:e+""}const j=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.api=new AdminAPI,this.locations=[]},e=[{key:"init",value:(i=k(b().m(function t(){return b().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.loadLocations();case 1:this.bindEvents();case 2:return t.a(2)}},t,this)})),function(){return i.apply(this,arguments)})},{key:"loadLocations",value:(o=k(b().m(function t(){return b().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,this.api.getLocations();case 1:this.locations=t.v,this.renderLocations(),t.n=3;break;case 2:t.p=2,t.v,this.showError("Failed to load locations");case 3:return t.a(2)}},t,this,[[0,2]])})),function(){return o.apply(this,arguments)})},{key:"renderLocations",value:function(){var t=document.querySelector("#wh-locations-table tbody");t&&(t.innerHTML=this.locations.map(function(t){return'\n      <tr data-location-id="'.concat(t.id,'">\n        <td>').concat(t.name,"</td>\n        <td>").concat(t.description||"-","</td>\n        <td>").concat(t.item_count||0,'</td>\n        <td>\n          <button class="wh-edit-location-btn" data-id="').concat(t.id,'">Edit</button>\n          <button class="wh-delete-location-btn" data-id="').concat(t.id,'">Delete</button>\n        </td>\n      </tr>\n    ')}).join(""))}},{key:"bindEvents",value:function(){var t,e=this;document.addEventListener("click",function(t){t.target.classList.contains("wh-edit-location-btn")?e.editLocation(t.target.dataset.id):t.target.classList.contains("wh-delete-location-btn")&&e.deleteLocation(t.target.dataset.id)}),null===(t=document.getElementById("wh-add-location-btn"))||void 0===t||t.addEventListener("click",function(){e.showAddModal()})}},{key:"editLocation",value:(r=k(b().m(function t(e){var n;return b().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,this.api.getLocation(e);case 1:n=t.v,this.showEditModal(n),t.n=3;break;case 2:t.p=2,t.v,this.showError("Failed to load location");case 3:return t.a(2)}},t,this,[[0,2]])})),function(t){return r.apply(this,arguments)})},{key:"deleteLocation",value:(n=k(b().m(function t(e){var n;return b().w(function(t){for(;;)switch(t.p=t.n){case 0:if(n=this.locations.find(function(t){return t.id===parseInt(e)})){t.n=1;break}return t.a(2);case 1:if(confirm('Are you sure you want to delete "'.concat(n.name,'"? This will affect ').concat(n.item_count||0," items."))){t.n=2;break}return t.a(2);case 2:return t.p=2,t.n=3,this.api.deleteLocation(e);case 3:return t.n=4,this.loadLocations();case 4:this.showSuccess("Location deleted successfully"),t.n=6;break;case 5:t.p=5,t.v,this.showError("Failed to delete location");case 6:return t.a(2)}},t,this,[[2,5]])})),function(t){return n.apply(this,arguments)})},{key:"showAddModal",value:function(){var t=document.createElement("div");t.className="wh-modal",t.innerHTML='\n      <div class="wh-modal-content">\n        <h2>Add New Location</h2>\n        <form id="wh-location-form">\n          <input type="text" name="name" placeholder="Location Name" required>\n          <textarea name="description" placeholder="Description (optional)"></textarea>\n          <button type="submit">Add Location</button>\n          <button type="button" onclick="this.closest(\'.wh-modal\').remove()">Cancel</button>\n        </form>\n      </div>\n    ',document.body.appendChild(t),this.bindFormSubmit(t)}},{key:"showEditModal",value:function(t){var e=document.createElement("div");e.className="wh-modal",e.innerHTML='\n      <div class="wh-modal-content">\n        <h2>Edit Location</h2>\n        <form id="wh-location-form" data-location-id="'.concat(t.id,'">\n          <input type="text" name="name" value="').concat(t.name,'" required>\n          <textarea name="description">').concat(t.description||"",'</textarea>\n          <button type="submit">Update Location</button>\n          <button type="button" onclick="this.closest(\'.wh-modal\').remove()">Cancel</button>\n        </form>\n      </div>\n    '),document.body.appendChild(e),this.bindFormSubmit(e)}},{key:"bindFormSubmit",value:function(t){var e=this,n=t.querySelector("#wh-location-form");n.addEventListener("submit",function(){var r=k(b().m(function r(o){var i,a,c;return b().w(function(r){for(;;)switch(r.p=r.n){case 0:if(o.preventDefault(),i=new FormData(n),a=Object.fromEntries(i),c=n.dataset.locationId,r.p=1,!c){r.n=3;break}return r.n=2,e.api.updateLocation(c,a);case 2:e.showSuccess("Location updated successfully"),r.n=5;break;case 3:return r.n=4,e.api.createLocation(a);case 4:e.showSuccess("Location created successfully");case 5:return t.remove(),r.n=6,e.loadLocations();case 6:r.n=8;break;case 7:r.p=7,r.v,e.showError("Failed to save location");case 8:return r.a(2)}},r,null,[[1,7]])}));return function(t){return r.apply(this,arguments)}}())}},{key:"showError",value:function(t){this.showNotification(t,"error")}},{key:"showSuccess",value:function(t){this.showNotification(t,"success")}},{key:"showNotification",value:function(t,e){var n=document.createElement("div");n.className="wh-notification wh-".concat(e),n.textContent=t,document.body.appendChild(n),setTimeout(function(){return n.remove()},3e3)}}],e&&S(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r,o,i}();function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function O(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return C(s,"_invoke",function(n,r,o){var i,c,u,s=0,l=o||[],d=!1,f={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return i=e,c=0,u=t,f.n=n,a}};function h(n,r){for(c=n,u=r,e=0;!d&&s&&!o&&e<l.length;e++){var o,i=l[e],h=f.p,p=i[2];n>3?(o=p===r)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=h&&((o=n<2&&h<i[1])?(c=0,f.v=r,f.n=i[1]):h<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,f.n=p,c=0))}if(o||n>1)return a;throw d=!0,r}return function(o,l,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===l&&h(l,p),c=l,u=p;(e=c<2?t:u)||!d;){i||(c?c<3?(c>1&&(f.n=-1),h(c,u)):f.n=u:f.v=u);try{if(s=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(d=f.n<0)?u:n.call(r,f))!==a)break}catch(e){i=t,c=1,u=e}finally{s=1}}return{value:e,done:d}}}(n,o,i),!0),s}var a={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(C(e={},r,function(){return this}),e),d=s.prototype=c.prototype=Object.create(l);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,C(t,o,"GeneratorFunction")),t.prototype=Object.create(d),t}return u.prototype=s,C(d,"constructor",s),C(s,"constructor",u),u.displayName="GeneratorFunction",C(s,o,"GeneratorFunction"),C(d),C(d,o,"Generator"),C(d,r,function(){return this}),C(d,"toString",function(){return"[object Generator]"}),(O=function(){return{w:i,m:f}})()}function C(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}C=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var i=function(e,n){C(t,e,function(t){return this._invoke(e,n,t)})};i("next",0),i("throw",1),i("return",2)}},C(t,e,n,r)}function L(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function T(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){L(i,r,o,a,c,"next",t)}function c(t){L(i,r,o,a,c,"throw",t)}a(void 0)})}}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I(r.key),r)}}function I(t){var e=function(t){if("object"!=P(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==P(e)?e:e+""}const x=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.api=new AdminAPI,this.categories=[]},e=[{key:"init",value:(i=T(O().m(function t(){return O().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.loadCategories();case 1:this.bindEvents();case 2:return t.a(2)}},t,this)})),function(){return i.apply(this,arguments)})},{key:"loadCategories",value:(o=T(O().m(function t(){return O().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,this.api.getCategories();case 1:this.categories=t.v,this.renderCategories(),t.n=3;break;case 2:t.p=2,t.v,this.showError("Failed to load categories");case 3:return t.a(2)}},t,this,[[0,2]])})),function(){return o.apply(this,arguments)})},{key:"renderCategories",value:function(){var t=document.querySelector("#wh-categories-table tbody");t&&(t.innerHTML=this.categories.map(function(t){return'\n      <tr data-category-id="'.concat(t.id,'">\n        <td>').concat(t.name,"</td>\n        <td>").concat(t.description||"-","</td>\n        <td>").concat(t.item_count||0,'</td>\n        <td>\n          <button class="wh-edit-category-btn" data-id="').concat(t.id,'">Edit</button>\n          <button class="wh-delete-category-btn" data-id="').concat(t.id,'">Delete</button>\n        </td>\n      </tr>\n    ')}).join(""))}},{key:"bindEvents",value:function(){var t,e=this;document.addEventListener("click",function(t){t.target.classList.contains("wh-edit-category-btn")?e.editCategory(t.target.dataset.id):t.target.classList.contains("wh-delete-category-btn")&&e.deleteCategory(t.target.dataset.id)}),null===(t=document.getElementById("wh-add-category-btn"))||void 0===t||t.addEventListener("click",function(){e.showAddModal()})}},{key:"editCategory",value:(r=T(O().m(function t(e){var n;return O().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,this.api.getCategory(e);case 1:n=t.v,this.showEditModal(n),t.n=3;break;case 2:t.p=2,t.v,this.showError("Failed to load category");case 3:return t.a(2)}},t,this,[[0,2]])})),function(t){return r.apply(this,arguments)})},{key:"deleteCategory",value:(n=T(O().m(function t(e){var n;return O().w(function(t){for(;;)switch(t.p=t.n){case 0:if(n=this.categories.find(function(t){return t.id===parseInt(e)})){t.n=1;break}return t.a(2);case 1:if(confirm('Are you sure you want to delete "'.concat(n.name,'"? This will affect ').concat(n.item_count||0," items."))){t.n=2;break}return t.a(2);case 2:return t.p=2,t.n=3,this.api.deleteCategory(e);case 3:return t.n=4,this.loadCategories();case 4:this.showSuccess("Category deleted successfully"),t.n=6;break;case 5:t.p=5,t.v,this.showError("Failed to delete category");case 6:return t.a(2)}},t,this,[[2,5]])})),function(t){return n.apply(this,arguments)})},{key:"showAddModal",value:function(){var t=document.createElement("div");t.className="wh-modal",t.innerHTML='\n      <div class="wh-modal-content">\n        <h2>Add New Category</h2>\n        <form id="wh-category-form">\n          <input type="text" name="name" placeholder="Category Name" required>\n          <textarea name="description" placeholder="Description (optional)"></textarea>\n          <button type="submit">Add Category</button>\n          <button type="button" onclick="this.closest(\'.wh-modal\').remove()">Cancel</button>\n        </form>\n      </div>\n    ',document.body.appendChild(t),this.bindFormSubmit(t)}},{key:"showEditModal",value:function(t){var e=document.createElement("div");e.className="wh-modal",e.innerHTML='\n      <div class="wh-modal-content">\n        <h2>Edit Category</h2>\n        <form id="wh-category-form" data-category-id="'.concat(t.id,'">\n          <input type="text" name="name" value="').concat(t.name,'" required>\n          <textarea name="description">').concat(t.description||"",'</textarea>\n          <button type="submit">Update Category</button>\n          <button type="button" onclick="this.closest(\'.wh-modal\').remove()">Cancel</button>\n        </form>\n      </div>\n    '),document.body.appendChild(e),this.bindFormSubmit(e)}},{key:"bindFormSubmit",value:function(t){var e=this,n=t.querySelector("#wh-category-form");n.addEventListener("submit",function(){var r=T(O().m(function r(o){var i,a,c;return O().w(function(r){for(;;)switch(r.p=r.n){case 0:if(o.preventDefault(),i=new FormData(n),a=Object.fromEntries(i),c=n.dataset.categoryId,r.p=1,!c){r.n=3;break}return r.n=2,e.api.updateCategory(c,a);case 2:e.showSuccess("Category updated successfully"),r.n=5;break;case 3:return r.n=4,e.api.createCategory(a);case 4:e.showSuccess("Category created successfully");case 5:return t.remove(),r.n=6,e.loadCategories();case 6:r.n=8;break;case 7:r.p=7,r.v,e.showError("Failed to save category");case 8:return r.a(2)}},r,null,[[1,7]])}));return function(t){return r.apply(this,arguments)}}())}},{key:"showError",value:function(t){this.showNotification(t,"error")}},{key:"showSuccess",value:function(t){this.showNotification(t,"success")}},{key:"showNotification",value:function(t,e){var n=document.createElement("div");n.className="wh-notification wh-".concat(e),n.textContent=t,document.body.appendChild(n),setTimeout(function(){return n.remove()},3e3)}}],e&&_(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r,o,i}();function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function q(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return M(s,"_invoke",function(n,r,o){var i,c,u,s=0,l=o||[],d=!1,f={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return i=e,c=0,u=t,f.n=n,a}};function h(n,r){for(c=n,u=r,e=0;!d&&s&&!o&&e<l.length;e++){var o,i=l[e],h=f.p,p=i[2];n>3?(o=p===r)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=h&&((o=n<2&&h<i[1])?(c=0,f.v=r,f.n=i[1]):h<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,f.n=p,c=0))}if(o||n>1)return a;throw d=!0,r}return function(o,l,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===l&&h(l,p),c=l,u=p;(e=c<2?t:u)||!d;){i||(c?c<3?(c>1&&(f.n=-1),h(c,u)):f.n=u:f.v=u);try{if(s=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(d=f.n<0)?u:n.call(r,f))!==a)break}catch(e){i=t,c=1,u=e}finally{s=1}}return{value:e,done:d}}}(n,o,i),!0),s}var a={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(M(e={},r,function(){return this}),e),d=s.prototype=c.prototype=Object.create(l);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,M(t,o,"GeneratorFunction")),t.prototype=Object.create(d),t}return u.prototype=s,M(d,"constructor",s),M(s,"constructor",u),u.displayName="GeneratorFunction",M(s,o,"GeneratorFunction"),M(d),M(d,o,"Generator"),M(d,r,function(){return this}),M(d,"toString",function(){return"[object Generator]"}),(q=function(){return{w:i,m:f}})()}function M(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}M=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var i=function(e,n){M(t,e,function(t){return this._invoke(e,n,t)})};i("next",0),i("throw",1),i("return",2)}},M(t,e,n,r)}function N(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function A(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){N(i,r,o,a,c,"next",t)}function c(t){N(i,r,o,a,c,"throw",t)}a(void 0)})}}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R(r.key),r)}}function R(t){var e=function(t){if("object"!=F(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==F(e)?e:e+""}const D=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.api=new AdminAPI},e=[{key:"init",value:(r=A(q().m(function t(){return q().w(function(t){for(;;)switch(t.n){case 0:this.bindEvents();case 1:return t.a(2)}},t,this)})),function(){return r.apply(this,arguments)})},{key:"bindEvents",value:function(){var t,e=this;null===(t=document.getElementById("wh-generate-qr-btn"))||void 0===t||t.addEventListener("click",function(){e.generateQRCode()})}},{key:"generateQRCode",value:(n=A(q().m(function t(){var e,n;return q().w(function(t){for(;;)switch(t.p=t.n){case 0:if(e=document.getElementById("wh-qr-item-id").value){t.n=1;break}return this.showError("Please enter an Item ID"),t.a(2);case 1:return t.p=1,t.n=2,this.api.generateQRCode(e);case 2:n=t.v,this.displayQRCode(n),t.n=4;break;case 3:t.p=3,t.v,this.showError("Failed to generate QR code");case 4:return t.a(2)}},t,this,[[1,3]])})),function(){return n.apply(this,arguments)})},{key:"displayQRCode",value:function(t){var e=document.getElementById("wh-qr-result");e&&(e.innerHTML='\n      <div class="wh-qr-code">\n        <img src="'.concat(t.image_url,'" alt="QR Code for Item ').concat(t.item_id,'">\n        <p>Item ID: ').concat(t.item_id,'</p>\n        <a href="').concat(t.download_url,'" download="qr-code-').concat(t.item_id,'.png">Download QR Code</a>\n      </div>\n    '))}},{key:"showError",value:function(t){var e=document.createElement("div");e.className="wh-notification wh-error",e.textContent=t,document.body.appendChild(e),setTimeout(function(){return e.remove()},3e3)}}],e&&G(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r}();function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function H(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Q(r.key),r)}}function Q(t){var e=function(t){if("object"!=U(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=U(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==U(e)?e:e+""}new(function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.inventoryManager=new y,this.locationManager=new j,this.categoryManager=new x,this.qrCodeManager=new D,this.init()},(e=[{key:"init",value:function(){var t=this;document.addEventListener("DOMContentLoaded",function(){switch(document.body.getAttribute("data-wh-page")){case"inventory":t.inventoryManager.init();break;case"locations":t.locationManager.init();break;case"categories":t.categoryManager.init();break;case"qrcodes":t.qrCodeManager.init()}})}}])&&H(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}())})();