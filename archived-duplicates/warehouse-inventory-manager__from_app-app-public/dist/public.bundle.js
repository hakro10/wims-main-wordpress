/*! For license information please see public.bundle.js.LICENSE.txt */
(()=>{"use strict";function t(n){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(n)}function n(){var t,r,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.toStringTag||"@@toStringTag";function c(n,o,i,a){var c=o&&o.prototype instanceof f?o:f,l=Object.create(c.prototype);return e(l,"_invoke",function(n,e,o){var i,a,c,f=0,l=o||[],s=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function y(n,e){for(a=n,c=e,r=0;!s&&f&&!o&&r<l.length;r++){var o,i=l[r],y=p.p,v=i[2];n>3?(o=v===e)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=n<2&&y<i[1])?(a=0,p.v=e,p.n=i[1]):y<v&&(o=n<3||i[0]>e||e>v)&&(i[4]=n,i[5]=e,p.n=v,a=0))}if(o||n>1)return u;throw s=!0,e}return function(o,l,v){if(f>1)throw TypeError("Generator is already running");for(s&&1===l&&y(l,v),a=l,c=v;(r=a<2?t:c)||!s;){i||(a?a<3?(a>1&&(p.n=-1),y(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),r=i[o]){if(!(r=r.call(i,c)))throw TypeError("iterator result is not an object");if(!r.done)return r;c=r.value,a<2&&(a=0)}else 1===a&&(r=i.return)&&r.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((r=(s=p.n<0)?c:n.call(e,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:r,done:s}}}(n,i,a),!0),l}var u={};function f(){}function l(){}function s(){}r=Object.getPrototypeOf;var p=[][i]?r(r([][i]())):(e(r={},i,function(){return this}),r),y=s.prototype=f.prototype=Object.create(p);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,e(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t}return l.prototype=s,e(y,"constructor",s),e(s,"constructor",l),l.displayName="GeneratorFunction",e(s,a,"GeneratorFunction"),e(y),e(y,a,"Generator"),e(y,i,function(){return this}),e(y,"toString",function(){return"[object Generator]"}),(n=function(){return{w:c,m:v}})()}function e(t,n,r,o){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}e=function(t,n,r,o){if(n)i?i(t,n,{value:r,enumerable:!o,configurable:!o,writable:!o}):t[n]=r;else{var a=function(n,r){e(t,n,function(t){return this._invoke(n,r,t)})};a("next",0),a("throw",1),a("return",2)}},e(t,n,r,o)}function r(t,n,e,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void e(t)}c.done?n(u):Promise.resolve(u).then(r,o)}function o(t){return function(){var n=this,e=arguments;return new Promise(function(o,i){var a=t.apply(n,e);function c(t){r(a,o,i,c,u,"next",t)}function u(t){r(a,o,i,c,u,"throw",t)}c(void 0)})}}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function a(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function c(t,n,e){return n&&a(t.prototype,n),e&&a(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function u(n){var e=function(n){if("object"!=t(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var r=e.call(n,"string");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==t(e)?e:e+""}var f=function(){return c(function t(){i(this,t),this.api=new l,this.items=[]},[{key:"init",value:(t=o(n().m(function t(){var e;return n().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,this.api.getItems();case 1:this.items=t.v,this.renderItems(),t.n=3;break;case 2:t.p=2,e=t.v,console.error("Failed to load inventory:",e);case 3:return t.a(2)}},t,this,[[0,2]])})),function(){return t.apply(this,arguments)})},{key:"renderItems",value:function(){var t=document.getElementById("wh-inventory-container");t&&(t.innerHTML=this.items.map(function(t){return'\n      <div class="wh-item" data-item-id="'.concat(t.id,'">\n        <h3>').concat(t.name,"</h3>\n        <p>Quantity: ").concat(t.quantity,"</p>\n        <p>Location: ").concat(t.location_name,"</p>\n      </div>\n    ")}).join(""))}},{key:"handleItemSelection",value:function(t){var n=this.items.find(function(n){return n.id===parseInt(t)});n&&this.showItemDetails(n)}},{key:"showItemDetails",value:function(t){var n=document.createElement("div");n.className="wh-modal",n.innerHTML='\n      <div class="wh-modal-content">\n        <h2>'.concat(t.name,"</h2>\n        <p><strong>SKU:</strong> ").concat(t.sku,"</p>\n        <p><strong>Quantity:</strong> ").concat(t.quantity,"</p>\n        <p><strong>Location:</strong> ").concat(t.location_name,"</p>\n        <p><strong>Category:</strong> ").concat(t.category_name,'</p>\n        <button onclick="this.parentElement.parentElement.remove()">Close</button>\n      </div>\n    '),document.body.appendChild(n)}}]);var t}(),l=function(){return c(function t(){var n,e;i(this,t),this.baseURL=(null===(n=whInventory)||void 0===n?void 0:n.ajax_url)||"/wp-admin/admin-ajax.php",this.nonce=(null===(e=whInventory)||void 0===e?void 0:e.nonce)||""},[{key:"getItems",value:(t=o(n().m(function t(){var e;return n().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,fetch(this.baseURL,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"get_inventory_items",nonce:this.nonce})});case 1:if((e=t.v).ok){t.n=2;break}throw new Error("Network response was not ok");case 2:return t.a(2,e.json())}},t,this)})),function(){return t.apply(this,arguments)})}]);var t}();const s=f;function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function y(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v(r.key),r)}}function v(t){var n=function(t){if("object"!=p(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var e=n.call(t,"string");if("object"!=p(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==p(n)?n:n+""}new(function(){return t=function t(){var n,e,r,o=this;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=function(t){var n=t.currentTarget.dataset.itemId;o.app.handleItemSelection(n)},(e=v(e="handleItemClick"))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,this.app=new s,this.initialize()},(n=[{key:"initialize",value:function(){var t=this;document.addEventListener("DOMContentLoaded",function(){t.app.init(),t.bindEvents()})}},{key:"bindEvents",value:function(){var t=this;document.querySelectorAll(".wh-item").forEach(function(n){n.addEventListener("click",t.handleItemClick)})}}])&&y(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}())})();